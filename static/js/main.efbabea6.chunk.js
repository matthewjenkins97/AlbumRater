/*! For license information please see main.efbabea6.chunk.js.LICENSE.txt */
(this.webpackJsonpAlbumRater=this.webpackJsonpAlbumRater||[]).push([[0],{23:function(t,e,r){t.exports=r(44)},28:function(t,e,r){},29:function(t,e,r){},44:function(t,e,r){"use strict";r.r(e);var n=r(0),a=r.n(n),o=r(18),c=r.n(o),i=(r(28),r(29),r(9)),u=r(10),l=r(6),s=r(14),h=r(13),d=function(t){Object(s.a)(r,t);var e=Object(h.a)(r);function r(t){var n;return Object(i.a)(this,r),(n=e.call(this,t)).trackNumber=0,n.addTrack=n.addTrack.bind(Object(l.a)(n)),n.removeTrack=n.removeTrack.bind(Object(l.a)(n)),n.calculateTrad=n.calculateTrad.bind(Object(l.a)(n)),n}return Object(u.a)(r,[{key:"calculateTrad",value:function(){for(var t=0,e=0,r=1;r<this.trackNumber+1;r++){var n=parseInt(document.getElementById("trackMinutes"+r).value),a=parseInt(document.getElementById("trackSeconds"+r).value),o=document.getElementById("trackApproval"+r).checked;if(isNaN(n)||isNaN(a))return void alert("Please fill any missing data.");if(n<0||a<0)return void alert("Minutes or seconds cannot be negative numbers.");if(a>=60)return void alert("Number of seconds cannot be greater than 60.");o&&(t+=60*parseInt(n),t+=parseInt(a)),e+=60*parseInt(n),e+=parseInt(a)}isNaN(Math.round(t/e))?document.getElementById("calculatedScoreTrad").innerHTML="":document.getElementById("calculatedScoreTrad").innerHTML="Album rating: ".concat(Math.round(t/e*10)/2," out of 5")}},{key:"addTrack",value:function(){this.trackNumber+=1;var t=document.createElement("li");t.id="track"+this.trackNumber,t.innerHTML="\n      <input id=trackMinutes".concat(this.trackNumber," type=number></input>\n      <input id=trackSeconds").concat(this.trackNumber," type=number></input>\n      <input id=trackApproval").concat(this.trackNumber," type=checkbox></input>\n    "),document.getElementById("trackList").append(t),this.forceUpdate()}},{key:"removeTrack",value:function(){if(this.trackNumber>0){var t="track"+this.trackNumber;document.getElementById(t).remove()}this.trackNumber=this.trackNumber>0?this.trackNumber-1:0,this.forceUpdate()}},{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement("ol",{id:"trackList"}),a.a.createElement("button",{onClick:this.addTrack},"+"),a.a.createElement("button",{onClick:this.removeTrack},"-"),a.a.createElement("br",null),a.a.createElement("button",{onClick:this.calculateTrad},"Calculate!"),a.a.createElement("h3",{id:"calculatedScoreTrad"}))}}]),r}(a.a.Component),m=r(22),f=r(19),p=r(11);function v(){v=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",i=a.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(N){u=function(t,e,r){return t[e]=r}}function l(t,e,r,a){var o=e&&e.prototype instanceof d?e:d,c=Object.create(o.prototype),i=new T(a||[]);return n(c,"_invoke",{value:w(t,r,i)}),c}function s(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(N){return{type:"throw",arg:N}}}t.wrap=l;var h={};function d(){}function m(){}function f(){}var p={};u(p,o,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(j([])));g&&g!==e&&r.call(g,o)&&(p=g);var b=f.prototype=d.prototype=Object.create(p);function E(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){var a;n(this,"_invoke",{value:function(n,o){function c(){return new e((function(a,c){!function n(a,o,c,i){var u=s(t[a],t,o);if("throw"!==u.type){var l=u.arg,h=l.value;return h&&"object"==typeof h&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,c,i)}),(function(t){n("throw",t,c,i)})):e.resolve(h).then((function(t){l.value=t,c(l)}),(function(t){return n("throw",t,c,i)}))}i(u.arg)}(n,o,a,c)}))}return a=a?a.then(c,c):c()}})}function w(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return O()}for(r.method=a,r.arg=o;;){var c=r.delegate;if(c){var i=x(c,r);if(i){if(i===h)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=s(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function x(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var a=s(n,t.iterator,e.arg);if("throw"===a.type)return e.method="throw",e.arg=a.arg,e.delegate=null,h;var o=a.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:O}}function O(){return{value:void 0,done:!0}}return m.prototype=f,n(b,"constructor",{value:f,configurable:!0}),n(f,"constructor",{value:m,configurable:!0}),m.displayName=u(f,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,u(t,i,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},E(k.prototype),u(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var c=new k(l(e,r,n,a),o);return t.isGeneratorFunction(r)?c:c.next().then((function(t){return t.done?t.value:c.next()}))},E(b),u(b,i,"Generator"),u(b,o,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=j,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return c.type="throw",c.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],c=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var i=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(i&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=t,c.arg=e,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(c)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;S(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},t}var y=function(t){Object(s.a)(r,t);var e=Object(h.a)(r);function r(t){var n;return Object(i.a)(this,r),(n=e.call(this,t)).calculateSpotify=n.calculateSpotify.bind(Object(l.a)(n)),n}return Object(u.a)(r,[{key:"calculateSpotify",value:function(){var t=Object(f.a)(v().mark((function t(){var e,r,n,a,o,c,i,u,l,s,h,d,f,p,y,g,b,E,k,w,x,L;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e="https://dev-06brcesa.us.auth0.com/api/v2/users/",r="https://api.spotify.com/v1/search?",n="https://api.spotify.com/v1/albums/",a="https://api.spotify.com/v1/me/tracks/contains?",o=this.props.auth0,c=o.user,i=o.getAccessTokenSilently,document.getElementById("calculatedScoreSpotify").innerHTML="Loading rating...",""!==document.getElementById("album").value&&""!==document.getElementById("artist").value){t.next=9;break}return document.getElementById("calculatedScoreSpotify").innerHTML="Please fill in any missing data and try again.",t.abrupt("return");case 9:return t.next=11,i();case 11:return u=t.sent,t.next=14,fetch("".concat(e).concat(c.sub),{headers:{Authorization:"Bearer ".concat(u)}});case 14:return t.next=16,t.sent.json();case 16:return l=t.sent,console.log(l.accessToken),t.prev=18,s={q:"".concat(document.getElementById("album").value," ").concat(document.getElementById("artist").value),type:"album",limit:1},t.next=22,fetch("".concat(r).concat(new URLSearchParams(s)),{headers:{Authorization:"Bearer ".concat(l.accessToken)}});case 22:return t.next=24,t.sent.json();case 24:if(void 0!==(h=t.sent).albums.items[0]){t.next=28;break}return document.getElementById("calculatedScoreSpotify").innerHTML="Album not found.",t.abrupt("return");case 28:return d=h.albums.items[0].id,t.next=31,fetch("".concat(n).concat(d),{headers:{Authorization:"Bearer ".concat(l.accessToken)}});case 31:return t.next=33,t.sent.json();case 33:f=t.sent,p=[],y=Object(m.a)(f.tracks.items);try{for(y.s();!(g=y.n()).done;)b=g.value,p.push(b.id)}catch(v){y.e(v)}finally{y.f()}return s={ids:p},t.next=40,fetch("".concat(a).concat(new URLSearchParams(s)),{headers:{Authorization:"Bearer ".concat(l.accessToken)}});case 40:return t.next=42,t.sent.json();case 42:for(E=t.sent,k=0,w=0,x=f.tracks.items,L=0;L<x.length;L++)E[L]&&(k=k+=x[L].duration_ms),w+=x[L].duration_ms;isNaN(Math.round(k/w))?document.getElementById("calculatedScoreSpotify").innerHTML="":document.getElementById("calculatedScoreSpotify").innerHTML="Album rating: ".concat(Math.round(k/w*10)/2," out of 5"),t.next=54;break;case 50:t.prev=50,t.t0=t.catch(18),console.error(t.t0),document.getElementById("calculatedScoreSpotify").innerHTML="Something bad happened. Please logout and log in to refresh the authentication.";case 54:case"end":return t.stop()}}),t,this,[[18,50]])})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this.props.auth0,e=t.isAuthenticated,r=t.logout,n=t.loginWithRedirect;return a.a.createElement("div",null,e?a.a.createElement("div",null,a.a.createElement("div",{style:{float:"left"}},a.a.createElement("label",{htmlFor:"artistname"},"Artist: "),a.a.createElement("input",{type:"text",id:"artist",name:"artistname"})),a.a.createElement("div",{style:{float:"right"}},a.a.createElement("button",{onClick:function(){return r({returnTo:window.location.origin+window.location.pathname})}},"Logout")),a.a.createElement("br",null),a.a.createElement("div",{style:{float:"left"}},a.a.createElement("label",{htmlFor:"albumname"},"Album: "),a.a.createElement("input",{type:"text",id:"album",name:"albumname"})),a.a.createElement("br",null),a.a.createElement("button",{onClick:this.calculateSpotify},"Calculate!"),a.a.createElement("h3",{id:"calculatedScoreSpotify"})):a.a.createElement("div",null,a.a.createElement("button",{onClick:function(){return n()}},"Login")))}}]),r}(a.a.Component),g=Object(p.b)(y);var b=function(){return a.a.createElement("div",null,a.a.createElement("h1",null,"Album Rater"),a.a.createElement("hr",null),a.a.createElement("div",{class:"grid-container"},a.a.createElement("div",{class:"grid-child"},a.a.createElement("div",{class:"grid-element"},a.a.createElement("h2",null,"Traditional"),a.a.createElement("p",null,"For each track on the album, type in its length in minutes and seconds, and whether you liked it or not. Your score will be automatically generated below the list."),a.a.createElement(d,null))),a.a.createElement("div",{class:"grid-child"},a.a.createElement("div",{class:"grid-element"},a.a.createElement("h2",null,"Spotify"),a.a.createElement(g,null)))),a.a.createElement("hr",null),a.a.createElement("p",null,"Made by ",a.a.createElement("a",{href:"http://matthewjenkins97.github.io"},"Matthew R. Jenkins")," in 2023. Application uses ",a.a.createElement("a",{href:"https://reactjs.org/"},"React")," and CSS from ",a.a.createElement("a",{href:"http://bettermotherfuckingwebsite.com/"},"bettermotherfuckingwebsite.com"),"."))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var E=r(20);c.a.render(a.a.createElement(E.a,{basename:"/AlbumRater"},a.a.createElement(p.a,{domain:"dev-06brcesa.us.auth0.com",clientId:"aExrjSgZXrCRZAcUVZ9Ol6w2P3nBkrue",redirectUri:window.location.origin+window.location.pathname,audience:"https://dev-06brcesa.us.auth0.com/api/v2/",scope:"read:current_user read:user_idp_tokens offline_access"},a.a.createElement(b,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[23,1,2]]]);
//# sourceMappingURL=main.efbabea6.chunk.js.map