(this.webpackJsonpSpotifyAlbumRater=this.webpackJsonpSpotifyAlbumRater||[]).push([[0],{21:function(e,t,a){e.exports=a(40)},26:function(e,t,a){},27:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(11),o=a.n(c),l=(a(26),a(27),a(6)),i=a.n(l),s=a(19),u=a(12),m=a(13),h=a(14),d=a(3),p=a(20),b=a(18),f=a(4),E=function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).calculate=n.calculate.bind(Object(d.a)(n)),n}return Object(h.a)(a,[{key:"calculate",value:function(){var e=Object(u.a)(i.a.mark((function e(){var t,a,n,r,c,o,l,u,m,h,d,p,b,f,E,v,g,y,w,k,j,A;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="https://dev-06brcesa.us.auth0.com/api/v2/users/",a="https://api.spotify.com/v1/search?",n="https://api.spotify.com/v1/albums/",r="https://api.spotify.com/v1/me/tracks/contains?",c=this.props.auth0,o=c.user,l=c.getAccessTokenSilently,document.getElementById("calculatedScore").innerHTML="Loading rating...",e.next=8,l();case 8:return u=e.sent,e.next=11,fetch("".concat(t).concat(o.sub),{headers:{Authorization:"Bearer ".concat(u)}});case 11:return e.next=13,e.sent.json();case 13:return m=e.sent,h={q:"".concat(document.getElementById("album").value," ").concat(document.getElementById("artist").value),type:"album",limit:1},e.next=17,fetch("".concat(a).concat(new URLSearchParams(h)),{headers:{Authorization:"Bearer ".concat(m.accessToken)}});case 17:return e.next=19,e.sent.json();case 19:return d=e.sent,p=d.albums.items[0].id,e.next=23,fetch("".concat(n).concat(p),{headers:{Authorization:"Bearer ".concat(m.accessToken)}});case 23:return e.next=25,e.sent.json();case 25:b=e.sent,f=[],E=Object(s.a)(b.tracks.items);try{for(E.s();!(v=E.n()).done;)g=v.value,f.push(g.id)}catch(i){E.e(i)}finally{E.f()}return h={ids:f},e.next=32,fetch("".concat(r).concat(new URLSearchParams(h)),{headers:{Authorization:"Bearer ".concat(m.accessToken)}});case 32:return e.next=34,e.sent.json();case 34:for(y=e.sent,w=0,k=0,j=b.tracks.items,A=0;A<j.length;A++)y[A]&&(w=w+=j[A].duration_ms),k+=j[A].duration_ms;isNaN(Math.round(w/k))?document.getElementById("calculatedScore").innerHTML="":document.getElementById("calculatedScore").innerHTML="Album rating: ".concat(Math.round(w/k*10)/2," out of 5");case 40:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.auth0,t=e.isAuthenticated,a=e.logout,n=e.loginWithRedirect;return r.a.createElement("div",null,t?r.a.createElement("div",null,r.a.createElement("div",{style:{float:"left"}},r.a.createElement("label",{htmlFor:"artistname"},"Artist: "),r.a.createElement("input",{type:"text",id:"artist",name:"artistname"})),r.a.createElement("button",{style:{float:"right"},onClick:function(){return a({returnTo:window.location.origin+window.location.pathname})}},"Logout"),r.a.createElement("br",null),r.a.createElement("div",{style:{float:"left"}},r.a.createElement("label",{htmlFor:"albumname"},"Album: "),r.a.createElement("input",{type:"text",id:"album",name:"albumname"})),r.a.createElement("br",null),r.a.createElement("button",{onClick:this.calculate},"Calculate!"),r.a.createElement("h3",{id:"calculatedScore"})):r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){return n()}},"Login")))}}]),a}(r.a.Component),v=Object(f.b)(E);var g=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Album Rater"),r.a.createElement("hr",null),r.a.createElement(v,null),r.a.createElement("hr",null),r.a.createElement("p",null,"Made by ",r.a.createElement("a",{href:"http://matthewjenkins97.github.io"},"Matthew R. Jenkins")," in 2021. Application uses ",r.a.createElement("a",{href:"https://reactjs.org/"},"React")," and CSS from ",r.a.createElement("a",{href:"http://bettermotherfuckingwebsite.com/"},"bettermotherfuckingwebsite.com"),"."),r.a.createElement("p",null,"Note that this is still in development! If you encounter any bugs feel free to report them on my ",r.a.createElement("a",{href:"https://github.com/matthewjenkins97/SpotifyAlbumRater/issues"},"github page"),"."))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var y=a(17);o.a.render(r.a.createElement(y.a,{basename:"/SpotifyAlbumRater"},r.a.createElement(f.a,{domain:"dev-06brcesa.us.auth0.com",clientId:"aExrjSgZXrCRZAcUVZ9Ol6w2P3nBkrue",redirectUri:window.location.origin+window.location.pathname,audience:"https://dev-06brcesa.us.auth0.com/api/v2/",scope:"read:current_user read:user_idp_tokens"},r.a.createElement(g,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[21,1,2]]]);
//# sourceMappingURL=main.934dc4ec.chunk.js.map